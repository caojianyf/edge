From 5e652b862ef264523cf5138878beac94b9e3a014 Mon Sep 17 00:00:00 2001
From: Addy Ke <addy.ke@rock-chips.com>
Date: Tue, 11 Jan 2022 16:03:42 +0800
Subject: [PATCH 2/2] [EDGE] HACK: input: touchscreen: gt1x: for x10

Signed-off-by: Addy Ke <addy.ke@rock-chips.com>
Change-Id: I4c7d73c105595f375cd55602e4b48705b9fe2d33
---
 .../touchscreen/gt1x/GT5688_Config_20170713_1080_1920.cfg    | 2 +-
 drivers/input/touchscreen/gt1x/gt1x.c                        | 5 ++++-
 2 files changed, 5 insertions(+), 2 deletions(-)

diff --git a/drivers/input/touchscreen/gt1x/GT5688_Config_20170713_1080_1920.cfg b/drivers/input/touchscreen/gt1x/GT5688_Config_20170713_1080_1920.cfg
index 2f65c7ee0482..3214124e3f15 100644
--- a/drivers/input/touchscreen/gt1x/GT5688_Config_20170713_1080_1920.cfg
+++ b/drivers/input/touchscreen/gt1x/GT5688_Config_20170713_1080_1920.cfg
@@ -1 +1 @@
-0x88,0x38,0x04,0x80,0x07,0x05,0x35,0x1E,0x05,0x40,0x00,0x08,0x50,0x3C,0x53,0x11,0x00,0x00,0x11,0x11,0x14,0x17,0x19,0x1C,0x0A,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x14,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x64,0x1E,0x28,0x8B,0x2B,0x0C,0x15,0x17,0xDF,0x07,0x04,0xA1,0x00,0x03,0x02,0x24,0x00,0x00,0x28,0x50,0x80,0x14,0x02,0x00,0x00,0x54,0xAD,0x2E,0x9B,0x35,0x8C,0x3B,0x81,0x42,0x79,0x49,0x71,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0x50,0x3C,0xFF,0xFF,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x41,0x20,0x78,0x78,0x64,0x00,0x00,0x00,0x00,0x00,0x01,0x08,0x02,0x09,0x03,0x0A,0x04,0x0B,0x05,0x0C,0x06,0x0D,0xFF,0xFF,0x0A,0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x02,0x01,0x00,0x15,0x14,0x13,0x12,0x11,0x10,0x0F,0x0E,0x0D,0x0C,0x0B,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x05,0x1E,0x00,0x02,0x2A,0x1E,0x19,0x14,0x02,0x00,0x03,0x0A,0x05,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0x86,0x22,0x03,0x00,0x00,0x33,0x00,0x0F,0x00,0x00,0x00,0x50,0x3C,0x50,0x00,0x00,0x00,0x23,0x13,0x01
+0x64,0xD0,0x02,0x00,0x05,0x05,0x05,0x00,0x01,0x00,0x00,0x0F,0x46,0x2D,0x53,0x11,0x00,0x00,0x50,0x11,0x14,0x14,0x14,0x20,0x0A,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x53,0x00,0x14,0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x14,0x64,0x1E,0x28,0x8C,0x0C,0x0E,0x37,0x39,0x09,0x06,0x20,0x37,0x20,0x12,0x03,0x24,0x00,0x00,0x19,0x6E,0x80,0x14,0x02,0x00,0x00,0x54,0xB2,0x27,0x84,0x35,0x6A,0x43,0x59,0x51,0x4E,0x5F,0x4E,0x00,0x00,0x00,0x10,0x28,0x48,0x00,0xF0,0x4A,0x3A,0xFF,0xF0,0x27,0x05,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x32,0x20,0x50,0x3C,0x3C,0x00,0x00,0x00,0x00,0x00,0x0D,0x06,0x0C,0x05,0x0B,0x04,0x0A,0x03,0x09,0x02,0x08,0x01,0x07,0x00,0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x05,0x1E,0x00,0x02,0x2A,0x1E,0x19,0x14,0x02,0x00,0x03,0x0A,0x05,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x04,0x22,0x03,0x00,0x00,0x33,0x00,0x0F,0x00,0x00,0x28,0x50,0x3C,0x50,0x00,0x00,0x05,0x5F,0xEB,0x01
\ No newline at end of file
diff --git a/drivers/input/touchscreen/gt1x/gt1x.c b/drivers/input/touchscreen/gt1x/gt1x.c
index f65ca3b916e4..35552eac45da 100644
--- a/drivers/input/touchscreen/gt1x/gt1x.c
+++ b/drivers/input/touchscreen/gt1x/gt1x.c
@@ -163,7 +163,10 @@ void gt1x_touch_down(s32 x, s32 y, s32 size, s32 id)
 #if GTP_CHANGE_X2Y
 	GTP_SWAP(x, y);
 #endif
-
+	if (gt1x_gt5688) {
+		y = gt1x_abs_y_max - y;
+		x = gt1x_abs_x_max - x;
+	}
 	if (gt1x_ics_slot_report) {
 		input_mt_slot(input_dev, id);
 		input_report_abs(input_dev, ABS_MT_PRESSURE, size);
-- 
2.30.2

